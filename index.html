<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="fonts/stylesheet.css">
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

    <div id="container">
      <div id="bg"></div>
      <div id="poster">
        <h1>
          <span id="ism"></span><span>ISM</span>
        </h1>
        <h2 id="desc"></h2>
      </div>
    </div>

    <!-- <div id="vader"></div>
    <div id="luke"></div> -->
    <script type="text/javascript" src="dist/theater.min.js"></script>
    <script type="text/javascript" src="data.json"></script>
    <script>

      function load() {
      	var data = JSON.parse(data);
      }

      /* global theaterJS */
      var theater = theaterJS(
        { locale: 'en',
          "minSpeed": 100,
          "maxSpeed": 250
        }
      )

      function shuffle(o){ //v1.0
          for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
          return o;
      };

      var keyArray = Object.keys(data);

      shuffle(keyArray); // example (shuffle function has to be implemented, see above)

      for (var i = 0; i < keyArray.length; ++i) {
          var current = data[keyArray[i]];
          // do stuff with current dataset
      }

      theater
        .addActor('ism', { accuracy: 0.7, speed: 0.5 })
        .addActor('desc', { accuracy: 1, speed: 2 })


      for (var i = 0; i < keyArray.length; ++i) {

          var obj = data[keyArray[i]];

          theater
            .addScene('ism:', 500, 'ism:'+obj.title.slice(0, -3))
            .addScene('desc:'+obj.desc, 2000, 'desc:')
      }

      theater
        .addScene(theater.replay)
    </script>
  </body>
</html>
